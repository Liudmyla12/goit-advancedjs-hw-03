{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_LwdZPWSBd249BTZ1XEE1Jnlhm43lImqBynqyOmF4YHvizwR0HqfldyOb8SwdBv5N';\n\nexport async function fetchBreeds() {\n  return await axios\n    .get('https://api.thecatapi.com/v1/breeds')\n    .then(res => res.data);\n}\n\nexport async function fetchCatByBreed(breedId) {\n  return await axios\n    .get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n    .then(res => res.data);\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst selectEl = document.querySelector('.breed-select');\nconst textLoader = document.querySelector('.loader');\nconst textError = document.querySelector('.error');\nconst containerInfo = document.querySelector('.cat-info');\n\nselectEl.addEventListener('change', handleOption);\n\nasync function getBreeds() {\n  try {\n    selectEl.classList.add('hidden');\n    textLoader.classList.remove('hidden');\n    const result = await fetchBreeds();\n    console.log('getBreeds: ', result);\n    if (result) {\n      selectEl.classList.remove('hidden');\n    }\n    return result;\n  } catch (error) {\n    console.log(error);\n    textError.classList.remove('hidden');\n  } finally {\n    textLoader.classList.add('hidden');\n  }\n}\n\ngetBreeds()\n  .then(data => {\n    return data\n      .map(cat => {\n        const markup = `<option value=${cat.id} key=${cat.id}>${cat.name}</option>`;\n        selectEl.insertAdjacentHTML('beforeend', markup);\n      })\n      .join('');\n  })\n  .catch(error => {\n    console.log(error);\n    textError.classList.remove('hidden');\n  });\n\nasync function getCatByBreed(breedId) {\n  try {\n    selectEl.classList.add('hidden');\n    containerInfo.classList.add('hidden');\n    textError.classList.add('hidden');\n    textLoader.classList.remove('hidden');\n    const result = await fetchCatByBreed(breedId);\n    if (result) {\n      selectEl.classList.remove('hidden');\n      containerInfo.classList.remove('hidden');\n    }\n    return result;\n  } catch (error) {\n    console.log(error);\n    textError.classList.remove('hidden');\n  } finally {\n    textLoader.classList.add('hidden');\n  }\n}\n\nfunction handleOption(evt) {\n  evt.preventDefault();\n  const breedId = evt.target.value;\n  getCatByBreed(breedId)\n    .then(cat => {\n      containerInfo.innerHTML = '';\n      console.log('Cat by breed: ', cat[0]);\n      const markup = `<div style=\"display: flex; flex-direction: row\">\n        <div\n          style=\"\n            margin-top: 30px;\n            margin-right: 30px;\n            width: 350px;\n            background-color: grey;\n            border-radius: 4px 4px 4px 4px;\n            box-shadow: 0px 2px 1px 0px rgba(46, 47, 66, 0.08),\n              0px 1px 1px 0px rgba(46, 47, 66, 0.16),\n              0px 1px 6px 0px rgba(46, 47, 66, 0.08);\n              overflow: hidden;\n          \"\n        >\n          <img\n            src=${cat[0].url}\n            alt=${cat[0].breeds[0].name}\n            style=\"\n              display: block;\n              width: 100%;\n            \"\n          />\n        </div>\n        <div style=\"display: block; margin-top: 30px\">\n          <h1 style=\"font-size: x-large; font-weight: 700; margin-bottom: 16px\">\n            ${cat[0].breeds[0].name}\n          </h1>\n          <p style=\"margin-bottom: 12px\">${cat[0].breeds[0].description}</p>\n          <p>\n            <span style=\"font-weight: 700; padding-right: 8px\">Temperament:</span>${cat[0]?.breeds[0]?.temperament}\n          </p>\n        </div>\n      </div>`;\n      if (cat) {\n        containerInfo.classList.remove('hidden');\n      }\n      containerInfo.innerHTML = markup;\n    })\n    .catch(error => {\n      console.log(error);\n      textError.classList.remove('hidden');\n    });\n}\n"],"names":["axios","fetchBreeds","res","fetchCatByBreed","breedId","selectEl","textLoader","textError","containerInfo","handleOption","getBreeds","result","error","data","cat","markup","getCatByBreed","evt","_b","_a"],"mappings":"svBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEK,eAAeC,GAAc,CAClC,OAAO,MAAMD,EACV,IAAI,qCAAqC,EACzC,KAAKE,GAAOA,EAAI,IAAI,CACzB,CAEO,eAAeC,EAAgBC,EAAS,CAC7C,OAAO,MAAMJ,EACV,IAAI,wDAAwDI,GAAS,EACrE,KAAKF,GAAOA,EAAI,IAAI,CACzB,CCXA,MAAMG,EAAW,SAAS,cAAc,eAAe,EACjDC,EAAa,SAAS,cAAc,SAAS,EAC7CC,EAAY,SAAS,cAAc,QAAQ,EAC3CC,EAAgB,SAAS,cAAc,WAAW,EAExDH,EAAS,iBAAiB,SAAUI,CAAY,EAEhD,eAAeC,GAAY,CACzB,GAAI,CACFL,EAAS,UAAU,IAAI,QAAQ,EAC/BC,EAAW,UAAU,OAAO,QAAQ,EACpC,MAAMK,EAAS,MAAMV,IACrB,eAAQ,IAAI,cAAeU,CAAM,EAC7BA,GACFN,EAAS,UAAU,OAAO,QAAQ,EAE7BM,CACR,OAAQC,EAAP,CACA,QAAQ,IAAIA,CAAK,EACjBL,EAAU,UAAU,OAAO,QAAQ,CACvC,QAAY,CACRD,EAAW,UAAU,IAAI,QAAQ,CAClC,CACH,CAEAI,EAAW,EACR,KAAKG,GACGA,EACJ,IAAIC,GAAO,CACV,MAAMC,EAAS,iBAAiBD,EAAI,UAAUA,EAAI,MAAMA,EAAI,gBAC5DT,EAAS,mBAAmB,YAAaU,CAAM,CACvD,CAAO,EACA,KAAK,EAAE,CACX,EACA,MAAMH,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBL,EAAU,UAAU,OAAO,QAAQ,CACvC,CAAG,EAEH,eAAeS,EAAcZ,EAAS,CACpC,GAAI,CACFC,EAAS,UAAU,IAAI,QAAQ,EAC/BG,EAAc,UAAU,IAAI,QAAQ,EACpCD,EAAU,UAAU,IAAI,QAAQ,EAChCD,EAAW,UAAU,OAAO,QAAQ,EACpC,MAAMK,EAAS,MAAMR,EAAgBC,CAAO,EAC5C,OAAIO,IACFN,EAAS,UAAU,OAAO,QAAQ,EAClCG,EAAc,UAAU,OAAO,QAAQ,GAElCG,CACR,OAAQC,EAAP,CACA,QAAQ,IAAIA,CAAK,EACjBL,EAAU,UAAU,OAAO,QAAQ,CACvC,QAAY,CACRD,EAAW,UAAU,IAAI,QAAQ,CAClC,CACH,CAEA,SAASG,EAAaQ,EAAK,CACzBA,EAAI,eAAc,EAClB,MAAMb,EAAUa,EAAI,OAAO,MAC3BD,EAAcZ,CAAO,EAClB,KAAKU,GAAO,SACXN,EAAc,UAAY,GAC1B,QAAQ,IAAI,iBAAkBM,EAAI,EAAE,EACpC,MAAMC,EAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAeHD,EAAI,GAAG;AAAA,kBACPA,EAAI,GAAG,OAAO,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cASrBA,EAAI,GAAG,OAAO,GAAG;AAAA;AAAA,2CAEYA,EAAI,GAAG,OAAO,GAAG;AAAA;AAAA,qFAEwBI,GAAAC,EAAAL,EAAI,KAAJ,YAAAK,EAAQ,OAAO,KAAf,YAAAD,EAAmB;AAAA;AAAA;AAAA,cAI7FJ,GACFN,EAAc,UAAU,OAAO,QAAQ,EAEzCA,EAAc,UAAYO,CAChC,CAAK,EACA,MAAMH,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBL,EAAU,UAAU,OAAO,QAAQ,CACzC,CAAK,CACL"}